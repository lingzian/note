`jS 异步解决方案的发展历程以及优缺点。`
1. 回调函数（callback）缺点：回调地狱，不能用 try catch 捕获错误，不能 return
2. Promise 就是为了解决callback的问题而产生的。Promise 实现了链式调用，也就是说每次 then 后返回的都是一个全新 Promise，如果我们在 then 中 return ，return 的结果会被 Promise.resolve() 包装
缺点：无法取消 Promise ，错误需要通过回调函数来捕获
4. Async/await
优点是：代码清晰，不用像 Promise 写一大堆 then 链，处理了回调地狱的问题
缺点：await 将异步代码改造成同步代码，如果多个异步操作没有依赖性而使用 await 会导致性能上的降低。



`Promise 构造函数是同步执行还是异步执行，那么 then 方法呢？`
Promise new的时候会立即执行里面的代码 then是微任务 会在本次任务执行完的时候执行 setTimeout是宏任务 会在下次任务执行的时候执行


`下面就开始写一个简单的promise`
<!-- function MyPromise(fn) {
    var res = null,
　　　callback = null;
    function resolve(val) {
        if(typeof(callback) === 'function'){
            res = callback(val);
        }
    }
 
    function reject(val){
        if(typeof(callback) === 'function'){
            res = callback(val);
        }
    }
     
    this.then = function (cb) {
        callback = cb;
            return new MyPromise(function(resolve,reject){
                 setTimeout(() => {
                     resolve(res);
                }, 3000);
            })
    };
 
    fn(resolve,reject);
} -->