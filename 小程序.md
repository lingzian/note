`taro 使用上传图片需要手动通过检测违规测试`
1 Taro.chooseImage 选择图片
2 Taro.getFileSystemManager().readFile({
          filePath: res.tempFilePaths[0],
          encoding: 'base64',}) 把图片转成base64,网上的方法是这里直接转成buffer，但是最终结果差强人意
3 使用云函数
exports.main = async (event, context) => {
  console.log(event)
  console.log(context)
  try{
    return await cloud.openapi.security.imgSecCheck({
      media: {
        contentType: event.contentType,
# 从这里再转一次buffer才可以        value: Buffer.from(event.value, 'base64')  
      }
    })
  }catch(err) {
    console.log('检测错误',err)
    throw err
  }
  
}




`canvas画图`
canvas 画图需要先把网络图片转换一遍（getImageInfo）才能画上去。广告 激励视频 插屏， banner广告需要用到 AD组件， 如果需要用腾讯视频的话就要 设置 --- 第三方服务 --- 插件管理 ---添加插件  --- 腾讯视频 